@using Web_GiupViecNha.Areas.Admin.Models;
@{
    ViewBag.Title = "Chi Tiết Dịch Vụ";
    Layout = "~/Views/Shared/_HomeLayOut.cshtml";
    List<DichVu> dsdv = ViewBag.dsdv;
    string a = "";
    int flag = 0;
}
@helper Truncate(string input, int length)
{
    if (input.Length < length)
    {
        @input

    }
    else
    {
        @input.Substring(0, length) <text>...</text>
    }
}

@model DichVu
<div id="page-wraper">
    <!-- Sidebar Menu -->



    <div class="container">
        <div class="top-header">

            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100"
                             src="~/Content/HinhAnh/slide1.jpg" alt="First slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="~/Content/HinhAnh/slide2.png" alt="Second slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="~/Content/HinhAnh/slide3.jpg" alt="Third slide">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

        </div>



        <div class="row" style="font-size:20px">

            <div class="col-md-5" style="padding-top:25px">
                <img src="~/Content/HinhAnh/@Model.HinhAnh" />
            </div>
            <div class="col-md-7" style="padding-top:20px">
                <p><h2 style="color:aquamarine;font-size:30px">@Model.TenDichVu</h2></p>
                <p> Mã dịch vụ :@Model.MaDichVu</p>
                <p>Mô tả :@Model.MoTa</p>
                <h2 style="color:aquamarine;font-size:30px;padding-top:20px">Giá dịch vụ</h2>
                <br />
                <div class="row">
                    <div class="col-md-4">
                        <h3 style="color:black">Gói 2 giờ</h3>
                        <p style="border-bottom:solid 2px">(2 phòng - 55 m<sup>2</sup>)</p>
                        <span class="elementor-testimonial__name" style="font-size:20px">@Model.GiaThanh VNĐ</span>
                    </div>

                </div>

            </div>

        </div>
        <div style="font-size:22px">
     
            <div class="white-button" style="float:right;padding-top:20px">
                <a href="@Url.Action("Index","Home")">Quay lại</a>
                <a href="#">Đặt lịch dịch vụ</a>
            </div>
        </div>



    </div>

    <div class="container">
     

    </div>


    <div class="row">
        <div class="col-lg-12">
            <h2 class="mt-5" style="font-weight:700">CÓ THỂ BẠN SẼ CẦN</h2>
        </div>
    </div>
    <div class="container-fluid d-flex justify-content-center">
       <div class="col-md-1">
           <a style="width:30px;" class="carousel-control-prev btn btn-warning" href="#postsCarousel" role="button" data-slide="prev">
               <span class="carousel-control-prev-icon" aria-hidden="true"></span>
               <span class="sr-only">Previous</span>
           </a>

       </div>
        <div class="col-md-10">
            <div class="container">
                <div class="carousel slide" data-ride="carousel" id="postsCarousel">

                    <div class="row ">
                        <ol class="carousel-indicators">
                            <li data-target="#postsCarousel" data-slide-to="0" class="active"></li>
                            <li data-target="#postsCarousel" data-slide-to="1"></li>

                        </ol>
                

                        <div class="col-md-12">


                            <div class="carousel-inner">


                                <div class="carousel-item active ">
                                    @foreach (DichVu dv in dsdv)
                                    {
                                       
                                        if (flag < 4)
                                        {
                                            if (dv.MaDichVu == Model.MaDichVu)
                                            {
                                                a += dv.MaDichVu;
                                                continue;
                                               
                                            }

                                            <div class="col-md-3" style="float:left">
                                                <div class="card mb-2" style="width:250px">
                                                    <img class="card-img-top" style="height:250px" src="/Content/HinhAnh/@dv.HinhAnh" alt="Card image cap">
                                                    <div class="card-body">
                                                        <h3 style="margin:8px 0px 16px" class="card-title">@dv.TenDichVu</h3>
                                                        <p class="card-text" style="color:black">@Truncate(dv.MoTa, 50)</p>
                                                        <a href="@Url.Action("XemChiTiet", "Home", new { madv = dv.MaDichVu})">Tìm hiểu thêm</a>
                                                    </div>
                                                </div>
                                            </div>
                                            flag++;
                                            a+= dv.MaDichVu;


                                        }

                                        else
                                        {
                                            break;

                                        }
                                    }
                                </div>
                                <div class="carousel-item ">
                                    @foreach (DichVu dv in dsdv)
                                    {
                                     if(a.Contains(dv.MaDichVu))
                                     {
                                         continue;
                                         
                                     }
                                        <div class="col-md-3" style="float:left">
                                            <div class="card mb-2" style="width: 250px;">
                                                <img style="height:250px" class="card-img-top" src="/Content/HinhAnh/@dv.HinhAnh" alt="Card image cap">
                                                <div class="card-body">
                                                    <h3 style="margin:8px 0px 16px" class="card-title">@dv.TenDichVu</h3>
                                                    <p class="card-text" style="color:black">@Truncate(dv.MoTa,50)</p>
                                                    <a href="@Url.Action("XemChiTiet", "Home", new { madv = dv.MaDichVu})">Tìm hiểu thêm</a>
                                                </div>
                                            </div>
                                        </div>

                                    }

                                </div>
                            </div>

                        </div>


                       
                     
                    </div>

                </div>
            </div>
        </div>
        <div class="col-md-1">

            <a style="width:30px; color:#FF8228" class="carousel-control-next btn btn-warning" href="#postsCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
     
    </div>

        
            <div class="container">
                <div class="section-heading">
                    <a href="#" id="lienhe"><h2 style="color:aquamarine">Liên Hệ</h2></a>
                    <div class="line-dec"></div>
                    <span>Bạn có thể nói cho chúng tôi về trải nghiệm của bạn về dịch vụ của bạn </span>
                </div>
                <div class="row">
                    <div class="right-content">
                        <div class="container">
                            <form id="contact" action="" method="post">
                                <div class="row">
                                    <div class="col-md-6">
                                        <fieldset>
                                            <input name="name" type="text" class="form-control"
                                                   id="name" placeholder="Tên ..." required="" />
                                        </fieldset>
                                    </div>
                                    <div class="col-md-6">
                                        <fieldset>
                                            <input name="email" type="text" class="form-control"
                                                   id="email" placeholder="Email..." required="" />
                                        </fieldset>
                                    </div>
                                    <div class="col-md-12">
                                        <fieldset>
                                            <input name="subject" type="text" class="form-control"
                                                   id="subject" placeholder="Địa Chỉ..." required="" />
                                        </fieldset>
                                    </div>
                                    <div class="col-md-12">
                                        <fieldset>
                                            <textarea name="message" rows="6" class="form-control"
                                                      id="message" placeholder="Góp ý..." required=""></textarea>
                                        </fieldset>
                                    </div>
                                    <div class="col-md-12">
                                        <fieldset>
                                            <button type="submit" id="form-submit" class="button">
                                                Gửi Mail
                                            </button>
                                        </fieldset>

                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

</div>